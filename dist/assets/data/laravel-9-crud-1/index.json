{"hash":"30bebeb6cb9fa2318507adace9f9f2e8ed3660cf","data":{"post":{"title":"Laravel 9 CRUD Part#1","date":"July 31, 2022","content":"<p>CRUD adalah salah satu aspek penting dalam pembuatan aplikasi, karena hampir semua aplikasi atau website dinamis membutuhkan  proses CRUD. Pada kesempatan kali ini saya akan berbagi tutorial CRUD Laravel 9.</p>\n<h1 id=\"install-laravel-9\"><a href=\"#install-laravel-9\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Install Laravel 9</h1>\n<p>Mari mulai dengan instalasi Laravel 9 melalui composer dengan perintah</p>\n<pre class=\"shiki\" style=\"background-color: #2e3440ff\"><code><span class=\"line\"><span style=\"color: #D8DEE9FF\">composer create-project laravel/laravel laravel-crud</span></span></code></pre>\n<p>atau melalui <a href=\"https://packagist.org/packages/laravel/installer\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">laravel installer</a>.</p>\n<pre class=\"shiki\" style=\"background-color: #2e3440ff\"><code><span class=\"line\"><span style=\"color: #D8DEE9FF\">laravel new laravel-crud</span></span></code></pre>\n<p>Masuk ke directori project kemudian jalankan perintah <code>php artisan serve</code> untuk menjalankannya</p>\n<h1 id=\"konfigurasi-database\"><a href=\"#konfigurasi-database\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Konfigurasi Database</h1>\n<p>Langkah kedua buat konfigurasi database di file <code>.env</code></p>\n<pre class=\"shiki\" style=\"background-color: #2e3440ff\"><code><span class=\"line\"><span style=\"color: #D8DEE9FF\">DB_CONNECTION=mysql</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">DB_HOST=127.0.0.1</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">DB_PORT=3306</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">DB_DATABASE=laravel_crud</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">DB_USERNAME=root</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">DB_PASSWORD=</span></span></code></pre>\n<h1 id=\"membuat-model-dan-migration\"><a href=\"#membuat-model-dan-migration\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Membuat Model dan Migration</h1>\n<p>Study kasus tutorial ini adalah CRUD untuk Buku dan Kategori. Mari kita buat Category dan Book model beserta migration.</p>\n<h2 id=\"category\"><a href=\"#category\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Category</h2>\n<pre class=\"shiki\" style=\"background-color: #2e3440ff\"><code><span class=\"line\"><span style=\"color: #D8DEE9FF\">php artisan make:model Category -m</span></span></code></pre>\n<p>Setelah perintah tersebut dijalankan, akan terdapat file <code>Category.php</code> yang berada di directory <code>app/Models</code> dan file migration yang terletak di <code>database/migration</code>.\nPada file migration untuk category isikan seperti berikut</p>\n<blockquote>\n<p>2022_07_31_124144_create_categories_table.php</p>\n</blockquote>\n<pre class=\"shiki\" style=\"background-color: #2e3440ff\"><code><span class=\"line\"><span style=\"color: #81A1C1\">public</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">function</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #88C0D0\">up</span><span style=\"color: #ECEFF4\">()</span></span>\n<span class=\"line\"><span style=\"color: #ECEFF4\">{</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #8FBCBB\">Schema</span><span style=\"color: #81A1C1\">::</span><span style=\"color: #88C0D0\">create</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #ECEFF4\">&#39;</span><span style=\"color: #A3BE8C\">categories</span><span style=\"color: #ECEFF4\">&#39;</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">function</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #81A1C1\">Blueprint</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">$</span><span style=\"color: #D8DEE9\">table</span><span style=\"color: #ECEFF4\">)</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #81A1C1\">$</span><span style=\"color: #D8DEE9\">table</span><span style=\"color: #81A1C1\">-&gt;</span><span style=\"color: #88C0D0\">id</span><span style=\"color: #ECEFF4\">()</span><span style=\"color: #81A1C1\">;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #81A1C1\">$</span><span style=\"color: #D8DEE9\">table</span><span style=\"color: #81A1C1\">-&gt;</span><span style=\"color: #88C0D0\">string</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #ECEFF4\">&#39;</span><span style=\"color: #A3BE8C\">name</span><span style=\"color: #ECEFF4\">&#39;</span><span style=\"color: #ECEFF4\">)</span><span style=\"color: #81A1C1\">;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #81A1C1\">$</span><span style=\"color: #D8DEE9\">table</span><span style=\"color: #81A1C1\">-&gt;</span><span style=\"color: #88C0D0\">timestamps</span><span style=\"color: #ECEFF4\">()</span><span style=\"color: #81A1C1\">;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #ECEFF4\">})</span><span style=\"color: #81A1C1\">;</span></span>\n<span class=\"line\"><span style=\"color: #ECEFF4\">}</span></span></code></pre>\n<h2 id=\"book\"><a href=\"#book\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Book</h2>\n<pre class=\"shiki\" style=\"background-color: #2e3440ff\"><code><span class=\"line\"><span style=\"color: #D8DEE9FF\">php artisan make:model Book -m</span></span></code></pre>\n<p>Pada file book migration buat seperti ini</p>\n<blockquote>\n<p>2022_07_31_124532_create_books_table.php</p>\n</blockquote>\n<pre class=\"shiki\" style=\"background-color: #2e3440ff\"><code><span class=\"line\"><span style=\"color: #81A1C1\">public</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">function</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #88C0D0\">up</span><span style=\"color: #ECEFF4\">()</span></span>\n<span class=\"line\"><span style=\"color: #ECEFF4\">{</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #8FBCBB\">Schema</span><span style=\"color: #81A1C1\">::</span><span style=\"color: #88C0D0\">create</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #ECEFF4\">&#39;</span><span style=\"color: #A3BE8C\">books</span><span style=\"color: #ECEFF4\">&#39;</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">function</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #81A1C1\">Blueprint</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">$</span><span style=\"color: #D8DEE9\">table</span><span style=\"color: #ECEFF4\">)</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #81A1C1\">$</span><span style=\"color: #D8DEE9\">table</span><span style=\"color: #81A1C1\">-&gt;</span><span style=\"color: #88C0D0\">id</span><span style=\"color: #ECEFF4\">()</span><span style=\"color: #81A1C1\">;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #81A1C1\">$</span><span style=\"color: #D8DEE9\">table</span><span style=\"color: #81A1C1\">-&gt;</span><span style=\"color: #88C0D0\">foreignIdFor</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #8FBCBB\">Category</span><span style=\"color: #81A1C1\">::class</span><span style=\"color: #ECEFF4\">)</span><span style=\"color: #81A1C1\">-&gt;</span><span style=\"color: #88C0D0\">constrained</span><span style=\"color: #ECEFF4\">()</span><span style=\"color: #81A1C1\">;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #81A1C1\">$</span><span style=\"color: #D8DEE9\">table</span><span style=\"color: #81A1C1\">-&gt;</span><span style=\"color: #88C0D0\">string</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #ECEFF4\">&#39;</span><span style=\"color: #A3BE8C\">title</span><span style=\"color: #ECEFF4\">&#39;</span><span style=\"color: #ECEFF4\">)</span><span style=\"color: #81A1C1\">;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #81A1C1\">$</span><span style=\"color: #D8DEE9\">table</span><span style=\"color: #81A1C1\">-&gt;</span><span style=\"color: #88C0D0\">year</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #ECEFF4\">&#39;</span><span style=\"color: #A3BE8C\">year_published</span><span style=\"color: #ECEFF4\">&#39;</span><span style=\"color: #ECEFF4\">)</span><span style=\"color: #81A1C1\">;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #81A1C1\">$</span><span style=\"color: #D8DEE9\">table</span><span style=\"color: #81A1C1\">-&gt;</span><span style=\"color: #88C0D0\">timestamps</span><span style=\"color: #ECEFF4\">()</span><span style=\"color: #81A1C1\">;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #ECEFF4\">})</span><span style=\"color: #81A1C1\">;</span></span>\n<span class=\"line\"><span style=\"color: #ECEFF4\">}</span></span></code></pre>\n<blockquote>\n<p>Option <code>-m</code> berguna untuk membuat migration. <code>foreignIdFor</code> digunakan untuk membuat foreign key dengan model yang didefinisikan.</p>\n</blockquote>\n<p>Setelah selesai jalankan perintah <code>php artisan migrate</code>. Cek di database maka akan ada tabel categories dan books dengan struktur sebagai berikut.</p>\n<h3 id=\"categories-table\"><a href=\"#categories-table\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>categories table</h3>\n<pre class=\"shiki\" style=\"background-color: #2e3440ff\"><code><span class=\"line\"><span style=\"color: #D8DEE9FF\">mysql</span><span style=\"color: #81A1C1\">&gt;</span><span style=\"color: #D8DEE9FF\"> SHOW COLUMNS FROM categories</span><span style=\"color: #81A1C1\">;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">+------------+-----------------+------+-----+---------+----------------+</span></span>\n<span class=\"line\"><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> Field      </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> Type            </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> Null </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> Key </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> Default </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> Extra          </span><span style=\"color: #81A1C1\">|</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">+------------+-----------------+------+-----+---------+----------------+</span></span>\n<span class=\"line\"><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> id         </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> bigint unsigned </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> NO   </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> PRI </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> NULL    </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> auto_increment </span><span style=\"color: #81A1C1\">|</span></span>\n<span class=\"line\"><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> name       </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> varchar</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #D8DEE9FF\">255</span><span style=\"color: #ECEFF4\">)</span><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> NO   </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\">     </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> NULL    </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\">                </span><span style=\"color: #81A1C1\">|</span></span>\n<span class=\"line\"><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> created_at </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> timestamp       </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> YES  </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\">     </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> NULL    </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\">                </span><span style=\"color: #81A1C1\">|</span></span>\n<span class=\"line\"><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> updated_at </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> timestamp       </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> YES  </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\">     </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> NULL    </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\">                </span><span style=\"color: #81A1C1\">|</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">+------------+-----------------+------+-----+---------+----------------+</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">4 rows </span><span style=\"color: #81A1C1\">in</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #88C0D0\">set</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #D8DEE9FF\">0.01 sec</span><span style=\"color: #ECEFF4\">)</span></span></code></pre>\n<h3 id=\"books-table\"><a href=\"#books-table\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>books table</h3>\n<pre class=\"shiki\" style=\"background-color: #2e3440ff\"><code><span class=\"line\"><span style=\"color: #D8DEE9FF\">mysql</span><span style=\"color: #81A1C1\">&gt;</span><span style=\"color: #D8DEE9FF\"> SHOW COLUMNS FROM books</span><span style=\"color: #81A1C1\">;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">+----------------+-----------------+------+-----+---------+----------------+</span></span>\n<span class=\"line\"><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> Field          </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> Type            </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> Null </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> Key </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> Default </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> Extra          </span><span style=\"color: #81A1C1\">|</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">+----------------+-----------------+------+-----+---------+----------------+</span></span>\n<span class=\"line\"><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> id             </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> bigint unsigned </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> NO   </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> PRI </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> NULL    </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> auto_increment </span><span style=\"color: #81A1C1\">|</span></span>\n<span class=\"line\"><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> category_id    </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> bigint unsigned </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> NO   </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> MUL </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> NULL    </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\">                </span><span style=\"color: #81A1C1\">|</span></span>\n<span class=\"line\"><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> title          </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> varchar</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #D8DEE9FF\">255</span><span style=\"color: #ECEFF4\">)</span><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> NO   </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\">     </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> NULL    </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\">                </span><span style=\"color: #81A1C1\">|</span></span>\n<span class=\"line\"><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> year_published </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> year            </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> NO   </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\">     </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> NULL    </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\">                </span><span style=\"color: #81A1C1\">|</span></span>\n<span class=\"line\"><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> created_at     </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> timestamp       </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> YES  </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\">     </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> NULL    </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\">                </span><span style=\"color: #81A1C1\">|</span></span>\n<span class=\"line\"><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> updated_at     </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> timestamp       </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> YES  </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\">     </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> NULL    </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\">                </span><span style=\"color: #81A1C1\">|</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">+----------------+-----------------+------+-----+---------+----------------+</span></span></code></pre>\n<p>Sampai disini dulu tutorialnya, selanjutnya kita akan bahas templating.</p>\n","tags":[{"title":"laravel","path":"/tag/laravel/"},{"title":"php","path":"/tag/php/"}]}},"context":{}}