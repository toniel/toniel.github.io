{"remainingRequest":"/home/toni_el/project/toniel.github.io/node_modules/babel-loader/lib/index.js??ref--1-1!/home/toni_el/project/toniel.github.io/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/toni_el/project/toniel.github.io/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/toni_el/project/toniel.github.io/src/components/SearchInput.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/toni_el/project/toniel.github.io/src/components/SearchInput.vue","mtime":1632283720216},{"path":"/home/toni_el/project/toniel.github.io/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/toni_el/project/toniel.github.io/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/toni_el/project/toniel.github.io/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/toni_el/project/toniel.github.io/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es.array.for-each\";\nimport \"core-js/modules/es.array.map\";\nimport \"core-js/modules/es.regexp.exec\";\nimport \"core-js/modules/es.string.search\";\nimport \"core-js/modules/web.dom-collections.for-each\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport SearchFocus from './SearchFocus';\nexport default {\n  components: {\n    SearchFocus: SearchFocus\n  },\n  computed: {\n    pages: function pages() {\n      var result = [];\n      var allPost = this.$static.allPost.edges.map(function (edge) {\n        return edge.node;\n      });\n      allPost.forEach(function (page) {\n        result.push({\n          path: page.path,\n          title: page.title,\n          summary: page.summary\n        });\n      });\n      var allDocs = this.$static.allDocumentation.edges.map(function (edge) {\n        return edge.node;\n      });\n      allDocs.forEach(function (page) {\n        result.push({\n          path: page.path,\n          title: page.title\n        });\n      });\n      return result;\n    }\n  },\n  data: function data() {\n    return {\n      query: '',\n      results: [],\n      highlightedIndex: 0,\n      searchResultsVisible: false,\n      options: {\n        shouldSort: true,\n        includeMatches: true,\n        threshold: 0.5,\n        location: 0,\n        distance: 500,\n        maxPatternLength: 32,\n        minMatchCharLength: 1,\n        keys: ['title', 'summary']\n      }\n    };\n  },\n  methods: {\n    reset: function reset() {\n      this.query = '';\n      this.highlightedIndex = 0;\n    },\n    softReset: function softReset() {\n      this.highlightedIndex = 0;\n      this.searchResultsVisible = true;\n    },\n    performSearch: function performSearch() {\n      var _this = this;\n\n      this.$search(this.query, this.pages, this.options).then(function (results) {\n        _this.results = results;\n      });\n    },\n    highlightPrev: function highlightPrev() {\n      if (this.highlightedIndex > 0) {\n        this.highlightedIndex = this.highlightedIndex - 1;\n        this.scrollIntoView();\n      }\n    },\n    highlightNext: function highlightNext() {\n      if (this.highlightedIndex < this.results.length - 1) {\n        this.highlightedIndex = this.highlightedIndex + 1;\n        this.scrollIntoView();\n      }\n    },\n    scrollIntoView: function scrollIntoView() {\n      this.$refs.results.children[this.highlightedIndex].scrollIntoView({\n        block: 'nearest'\n      });\n    },\n    gotoLink: function gotoLink() {\n      if (this.results[this.highlightedIndex]) {\n        window.location = this.results[this.highlightedIndex].item.path;\n      }\n    },\n    focusSearch: function focusSearch(e) {\n      if (e.key === '/') {\n        this.$refs.search.focus();\n      }\n    }\n  }\n};",{"version":3,"sources":["SearchInput.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"relative\">\n    <search-focus @keyup=\"focusSearch\"></search-focus>\n\n    <div class=\"relative w-80\">\n      <input\n        type=\"text\"\n        placeholder=\"Search (Press  &quot;/&quot; to focus)\"\n        class=\"bg-background-form border border-gray-500 rounded-full px-4 pl-10 py-2 outline-none focus:border-green-500 w-80\"\n        v-model=\"query\"\n        @input=\"softReset\"\n        @keyup=\"performSearch\"\n        @keyup.esc=\"searchResultsVisible = false\"\n        @keydown.up.prevent=\"highlightPrev\"\n        @keydown.down.prevent=\"highlightNext\"\n        @keyup.enter=\"gotoLink\"\n        @blur=\"searchResultsVisible = false\"\n        @focus=\"searchResultsVisible = true\"\n        ref=\"search\"\n        data-cypress=\"search\"\n      >\n      <div class=\"absolute top-0 ml-3\" style=\"top:10px\">\n        <svg fill=\"currentColor\" class=\"text-gray-500 h-5 w-5\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\"><path class=\"heroicon-ui\" d=\"M16.32 14.9l5.39 5.4a1 1 0 0 1-1.42 1.4l-5.38-5.38a8 8 0 1 1 1.41-1.41zM10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12z\"></path></svg>\n      </div>\n      <div\n        v-if=\"query.length > 0\"\n        class=\"absolute top-0 right-0 text-2xl mr-3 cursor-pointer text-gray-600 hover:text-gray-800\"\n        style=\"top:2px;\"\n        @click=\"reset\"\n      >\n        &times;\n      </div>\n    </div>\n    <transition name=\"fade\">\n      <div v-if=\"query.length > 0 && searchResultsVisible\" class=\"normal-case absolute border left-0 right-0 w-108 text-left mb-4 mt-2 rounded-lg shadow overflow-hidden z-10 overflow-y-auto\" style=\"max-height: 32rem\" data-cypress=\"search-results\">\n        <div class=\"flex flex-col\" ref=\"results\">\n          <a\n            v-for=\"(post, index) in results\"\n            :key=\"index\"\n            :href=\"post.item.path\"\n            @click=\"reset\"\n            class=\"bg-background-form border-b border-gray-400 text-xl cursor-pointer p-4 search-hover\"\n            :class=\"{ 'search-highlighted' : index === highlightedIndex }\"\n          >\n            {{ post.item.title }}\n\n            <span class=\"block font-normal text-copy-primary text-sm my-1\">{{ post.item.summary }}</span>\n          </a>\n\n          <div v-if=\"results.length === 0\" class=\"bg-background-form font-normal w-full border-b cursor-pointer p-4\">\n            <p class=\"my-0\">No results for '<strong>{{ query }}</strong>'</p>\n          </div>\n        </div>\n      </div>\n    </transition>\n  </div>\n</template>\n\n\n<static-query>\nquery Search {\n  allPost {\n    edges {\n      node {\n        id\n        path\n        title\n        summary\n        headings {\n          depth\n          value\n          anchor\n        }\n      }\n    }\n  }\n  allDocumentation {\n    edges {\n      node {\n        id\n        path\n        title\n      }\n    }\n  }\n}\n</static-query>\n\n<script>\nimport SearchFocus from './SearchFocus'\n\nexport default {\n  components: {\n    SearchFocus,\n  },\n  computed: {\n    pages () {\n      let result = [];\n      const allPost = this.$static.allPost.edges.map(edge => edge.node);\n      allPost.forEach(page => {\n        result.push({\n          path: page.path,\n          title: page.title,\n          summary: page.summary\n        });\n      });\n      const allDocs = this.$static.allDocumentation.edges.map(edge => edge.node);\n      allDocs.forEach(page => {\n        result.push({\n          path: page.path,\n          title: page.title\n        });\n      });\n      return result;\n    }\n  },\n  data() {\n    return {\n      query: '',\n      results: [],\n      highlightedIndex: 0,\n      searchResultsVisible: false,\n      options: {\n        shouldSort: true,\n        includeMatches: true,\n        threshold: 0.5,\n        location: 0,\n        distance: 500,\n        maxPatternLength: 32,\n        minMatchCharLength: 1,\n        keys: ['title', 'summary']\n      }\n    }\n  },\n  methods: {\n    reset() {\n      this.query = ''\n      this.highlightedIndex = 0\n    },\n    softReset() {\n      this.highlightedIndex = 0\n      this.searchResultsVisible = true\n    },\n    performSearch() {\n      this.$search(this.query, this.pages, this.options).then(results => {\n        this.results = results\n      })\n    },\n    highlightPrev() {\n      if (this.highlightedIndex > 0) {\n        this.highlightedIndex = this.highlightedIndex - 1\n        this.scrollIntoView()\n      }\n    },\n    highlightNext() {\n      if (this.highlightedIndex < this.results.length - 1) {\n        this.highlightedIndex = this.highlightedIndex + 1\n        this.scrollIntoView()\n      }\n    },\n    scrollIntoView() {\n      this.$refs.results.children[this.highlightedIndex].scrollIntoView({ block: 'nearest' })\n    },\n    gotoLink() {\n      if (this.results[this.highlightedIndex]) {\n        window.location = this.results[this.highlightedIndex].item.path\n      }\n    },\n    focusSearch(e) {\n      if (e.key === '/') {\n        this.$refs.search.focus()\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .fade-enter-active, .fade-leave-active {\n    transition: opacity .2s;\n  }\n  .fade-enter, .fade-leave-to {\n    opacity: 0;\n  }\n</style>\n\n"],"sourceRoot":"src/components"}]}